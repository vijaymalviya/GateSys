import{useRef as e,useCallback as t,useEffect as n,useMemo as r,useLayoutEffect as o,useReducer as i,createElement as u,useState as s}from"react";var a,l={exports:{}};
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/a=l,function(){var e={}.hasOwnProperty;function t(){for(var n=[],r=0;r<arguments.length;r++){var o=arguments[r];if(o){var i=typeof o;if("string"===i||"number"===i)n.push(o);else if(Array.isArray(o)){if(o.length){var u=t.apply(null,o);u&&n.push(u)}}else if("object"===i){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){n.push(o.toString());continue}for(var s in o)e.call(o,s)&&o[s]&&n.push(s)}}}return n.join(" ")}a.exports?(t.default=t,a.exports=t):window.classNames=t}();var c=l.exports;function d(e,t,n){var r,o;o=n,(r=t).bottom>o.top&&r.top<=o.top&&r.y-r.height>0&&(e.style.top="unset",e.style.bottom=p(e,"bottom")+n.top-t.bottom+"px")}function p(e,t){const n=getComputedStyle(e)[t],r=Number(n.split("px")[0]);return n?r:0}function g(e,t,n,r){return t&&t!==e&&!t.classList.contains(r)&&(!n||!n.map((e=>e.contains(t))).filter((e=>e)).length)&&!e.contains(t)}function f(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;const r=e.getBoundingClientRect(),o=t.getBoundingClientRect(),i=r.left+n,u=r.right-n,s=r.top+n,a=r.bottom-n;return i<o.right&&i>o.left||u>o.left&&u<o.right||s<o.bottom&&s>o.top||a>o.top&&a<o.bottom}function h(e,t,n){const r=getComputedStyle(n);if("none"===r.display)return!1;if(r.visibility&&"visible"!==r.visibility)return!1;if(r.opacity&&Number(r.opacity)<.1)return!1;const o=n.getBoundingClientRect();if(0===Math.round(n.offsetWidth+n.offsetHeight+o.height+o.width))return!1;const i={x:Math.round(o.left+n.offsetWidth/2),y:Math.round(o.top+n.offsetHeight/2)};if(!i.x||!i.y)return!1;if(i.x<0)return!1;if(i.x>(e.documentElement.clientWidth||t.document.documentElement.clientWidth))return!1;if(i.y<0)return!1;if(i.y>(e.documentElement.clientHeight||t.document.documentElement.clientHeight))return!1;let u=e.elementFromPoint(i.x,i.y);if(u)do{if(u===n)return!0;u=u.parentElement}while(u.parentElement);return!1}function m(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}var x,y,I,b,w={exports:{}};w.exports=function(){if(b)return I;b=1;var e=y?x:(y=1,x="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");function t(){}function n(){}return n.resetWarningCache=t,I=function(){function r(t,n,r,o,i,u){if(u!==e){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function o(){return r}r.isRequired=r;var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i}}()();var O,E={};!function(){if(O)return E;O=1;var e=60103,t=60106,n=60107,r=60108,o=60114,i=60109,u=60110,s=60112,a=60113,l=60120,c=60115,d=60116,p=60121,g=60122,f=60117,h=60129,m=60131;if("function"==typeof Symbol&&Symbol.for){var v=Symbol.for;e=v("react.element"),t=v("react.portal"),n=v("react.fragment"),r=v("react.strict_mode"),o=v("react.profiler"),i=v("react.provider"),u=v("react.context"),s=v("react.forward_ref"),a=v("react.suspense"),l=v("react.suspense_list"),c=v("react.memo"),d=v("react.lazy"),p=v("react.block"),g=v("react.server.block"),f=v("react.fundamental"),h=v("react.debug_trace_mode"),m=v("react.legacy_hidden")}function x(p){if("object"==typeof p&&null!==p){var g=p.$$typeof;switch(g){case e:switch(p=p.type){case n:case o:case r:case a:case l:return p;default:switch(p=p&&p.$$typeof){case u:case s:case d:case c:case i:return p;default:return g}}case t:return g}}}var y=i,I=e,b=s,w=n,M=d,k=c,C=t,S=o,T=r,L=a;E.ContextConsumer=u,E.ContextProvider=y,E.Element=I,E.ForwardRef=b,E.Fragment=w,E.Lazy=M,E.Memo=k,E.Portal=C,E.Profiler=S,E.StrictMode=T,E.Suspense=L,E.isAsyncMode=function(){return!1},E.isConcurrentMode=function(){return!1},E.isContextConsumer=function(e){return x(e)===u},E.isContextProvider=function(e){return x(e)===i},E.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===e},E.isForwardRef=function(e){return x(e)===s},E.isFragment=function(e){return x(e)===n},E.isLazy=function(e){return x(e)===d},E.isMemo=function(e){return x(e)===c},E.isPortal=function(e){return x(e)===t},E.isProfiler=function(e){return x(e)===o},E.isStrictMode=function(e){return x(e)===r},E.isSuspense=function(e){return x(e)===a},E.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===n||e===o||e===h||e===r||e===a||e===l||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===d||e.$$typeof===c||e.$$typeof===i||e.$$typeof===u||e.$$typeof===s||e.$$typeof===f||e.$$typeof===p||e[0]===g)},E.typeOf=x}();let M=e=>"object"==typeof e&&null!=e&&1===e.nodeType,k=(e,t)=>(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e,C=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){let n=getComputedStyle(e,null);return k(n.overflowY,t)||k(n.overflowX,t)||(e=>{let t=(e=>{if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}})(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)})(e)}return!1},S=(e,t,n,r,o,i,u,s)=>i<e&&u>t||i>e&&u<t?0:i<=e&&s<=n||u>=t&&s>=n?i-e-r:u>t&&s<n||i<e&&s>n?u-t+o:0,T=e=>{let t=e.parentElement;return null==t?e.getRootNode().host||null:t};var L=function(){return L=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},L.apply(this,arguments)},F=0;function D(){}function B(e,t,n){return e===t||t instanceof n.Node&&e.contains&&e.contains(t)}function P(e,t){var n;function r(){n&&clearTimeout(n)}function o(){for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];r(),n=setTimeout((function(){n=null,e.apply(void 0,i)}),t)}return o.cancel=r,o}function R(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.some((function(t){return t&&t.apply(void 0,[e].concat(r)),e.preventDownshiftDefault||e.hasOwnProperty("nativeEvent")&&e.nativeEvent.preventDownshiftDefault}))}}function N(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach((function(t){"function"==typeof t?t(e):t&&(t.current=e)}))}}function V(e,t){return Object.keys(e).reduce((function(n,r){return n[r]=function(e,t){return void 0!==e[t]}(t,r)?t[r]:e[r],n}),{})}function H(e,t,n,r,o){if(void 0===o&&(o=!0),0===n)return-1;var i=n-1;("number"!=typeof t||t<0||t>=n)&&(t=e>0?-1:i+1);var u=t+e;u<0?u=o?i:0:u>i&&(u=o?0:i);var s=A(e,u,n,r,o);return-1===s?t>=n?-1:t:s}function A(e,t,n,r,o){var i=r(t);if(!i||!i.hasAttribute("disabled"))return t;if(e>0){for(var u=t+1;u<n;u++)if(!r(u).hasAttribute("disabled"))return u}else for(var s=t-1;s>=0;s--)if(!r(s).hasAttribute("disabled"))return s;return o?e>0?A(1,0,n,r,!1):A(-1,n-1,n,r,!1):-1}function W(e,t,n,r){return void 0===r&&(r=!0),t.some((function(t){return t&&(B(t,e,n)||r&&B(t,n.document.activeElement,n))}))}var K=P((function(e){j(e).textContent=""}),500);function j(e){void 0===e&&(e=document);var t=e.getElementById("a11y-status-message");return t||((t=e.createElement("div")).setAttribute("id","a11y-status-message"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-relevant","additions text"),Object.assign(t.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(t),t)}var _=["isInitialMount","highlightedIndex","items","environment"],$={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function U(e,t,n){var r=e.props,o=e.type,i={};Object.keys(t).forEach((function(r){!function(e,t,n,r){var o=t.props,i=t.type,u="on"+X(e)+"Change";o[u]&&void 0!==r[e]&&r[e]!==n[e]&&o[u](v({type:i},r))}(r,e,t,n),n[r]!==t[r]&&(i[r]=n[r])})),r.onStateChange&&Object.keys(i).length&&r.onStateChange(v({type:o},i))}var q=P((function(e,t){var n,r,o;n=e(),o=j(r=t),n&&(o.textContent=n,K(r))}),200),z="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?o:n;function Y(t){var n=t.id,r=void 0===n?"downshift-"+String(F++):n,o=t.labelId,i=t.menuId,u=t.getItemId,s=t.toggleButtonId,a=t.inputId;return e({labelId:o||r+"-label",menuId:i||r+"-menu",getItemId:u||function(e){return r+"-item-"+e},toggleButtonId:s||r+"-toggle-button",inputId:a||r+"-input"}).current}function X(e){return""+e.slice(0,1).toUpperCase()+e.slice(1)}function G(t){var n=e(t);return n.current=t,n}function J(r,o,u){var s=function(r,o,u){var s=e(),a=e(),l=t((function(e,t){a.current=t,e=V(e,t.props);var n=r(e,t);return t.props.stateReducer(e,v({},t,{changes:n}))}),[r]),c=i(l,o),d=c[0],p=c[1],g=G(u),f=t((function(e){return p(v({props:g.current},e))}),[g]),h=a.current;return n((function(){h&&s.current&&s.current!==d&&U(h,V(s.current,h.props),d),s.current=d}),[d,u,h]),[d,f]}(r,o,u),a=s[0],l=s[1];return[V(a,u),l]}var Q={itemToString:function(e){return e?String(e):""},stateReducer:function(e,t){return t.changes},getA11ySelectionMessage:function(e){var t=e.selectedItem,n=e.itemToString;return t?n(t)+" has been selected.":""},scrollIntoView:function(e,t){if(e){var n=((e,t)=>{var n,r,o,i,u,s;if("undefined"==typeof document)return[];let{scrollMode:a,block:l,inline:c,boundary:d,skipOverflowHiddenElements:p}=t,g="function"==typeof d?d:e=>e!==d;if(!M(e))throw new TypeError("Invalid target");let f=document.scrollingElement||document.documentElement,h=[],m=e;for(;M(m)&&g(m);){if(m=T(m),m===f){h.push(m);break}null!=m&&m===document.body&&C(m)&&!C(document.documentElement)||null!=m&&C(m,p)&&h.push(m)}let v=null!=(r=null==(n=window.visualViewport)?void 0:n.width)?r:innerWidth,x=null!=(i=null==(o=window.visualViewport)?void 0:o.height)?i:innerHeight,y=null!=(u=window.scrollX)?u:pageXOffset,I=null!=(s=window.scrollY)?s:pageYOffset,{height:b,width:w,top:O,right:E,bottom:k,left:L}=e.getBoundingClientRect(),F="start"===l||"nearest"===l?O:"end"===l?k:O+b/2,D="center"===c?L+w/2:"end"===c?E:L,B=[];for(let e=0;e<h.length;e++){let t=h[e],{height:n,width:r,top:o,right:i,bottom:u,left:s}=t.getBoundingClientRect();if("if-needed"===a&&O>=0&&L>=0&&k<=x&&E<=v&&O>=o&&k<=u&&L>=s&&E<=i)return B;let d=getComputedStyle(t),p=parseInt(d.borderLeftWidth,10),g=parseInt(d.borderTopWidth,10),m=parseInt(d.borderRightWidth,10),M=parseInt(d.borderBottomWidth,10),C=0,T=0,P="offsetWidth"in t?t.offsetWidth-t.clientWidth-p-m:0,R="offsetHeight"in t?t.offsetHeight-t.clientHeight-g-M:0,N="offsetWidth"in t?0===t.offsetWidth?0:r/t.offsetWidth:0,V="offsetHeight"in t?0===t.offsetHeight?0:n/t.offsetHeight:0;if(f===t)C="start"===l?F:"end"===l?F-x:"nearest"===l?S(I,I+x,x,g,M,I+F,I+F+b,b):F-x/2,T="start"===c?D:"center"===c?D-v/2:"end"===c?D-v:S(y,y+v,v,p,m,y+D,y+D+w,w),C=Math.max(0,C+I),T=Math.max(0,T+y);else{C="start"===l?F-o-g:"end"===l?F-u+M+R:"nearest"===l?S(o,u,n,g,M+R,F,F+b,b):F-(o+n/2)+R/2,T="start"===c?D-s-p:"center"===c?D-(s+r/2)+P/2:"end"===c?D-i+m+P:S(s,i,r,p,m+P,D,D+w,w);let{scrollLeft:e,scrollTop:a}=t;C=Math.max(0,Math.min(a+C/V,t.scrollHeight-n/V+R)),T=Math.max(0,Math.min(e+T/N,t.scrollWidth-r/N+P)),F+=a-C,D+=e-T}B.push({el:t,top:C,left:T})}return B})(e,{boundary:t,block:"nearest",scrollMode:"if-needed"});n.forEach((function(e){var t=e.el,n=e.top,r=e.left;t.scrollTop=n,t.scrollLeft=r}))}},environment:"undefined"==typeof window?{}:window};function Z(e,t,n){void 0===n&&(n=$);var r=e["default"+X(t)];return void 0!==r?r:n[t]}function ee(e,t,n){void 0===n&&(n=$);var r=e[t];if(void 0!==r)return r;var o=e["initial"+X(t)];return void 0!==o?o:Z(e,t,n)}function te(e,t,n){var r=e.items,o=e.initialHighlightedIndex,i=e.defaultHighlightedIndex,u=t.selectedItem,s=t.highlightedIndex;return 0===r.length?-1:void 0!==o&&s===o?o:void 0!==i?i:u?r.indexOf(u):0===n?-1:n<0?r.length-1:0}function ne(e,t,r){var o=r.isInitialMount,i=r.highlightedIndex,u=r.items,s=r.environment,a=m(r,_);n((function(){o||q((function(){return e(v({highlightedIndex:i,highlightedItem:u[i],resultCount:u.length},a))}),s.document)}),t)}var re=D;function oe(e,t,n){var r;return void 0===n&&(n=!0),v({isOpen:!1,highlightedIndex:-1},(null==(r=e.items)?void 0:r.length)&&t>=0&&v({selectedItem:e.items[t],isOpen:Z(e,"isOpen"),highlightedIndex:Z(e,"highlightedIndex")},n&&{inputValue:e.itemToString(e.items[t])}))}w.exports.array.isRequired,w.exports.func,w.exports.func,w.exports.func,w.exports.number,w.exports.number,w.exports.number,w.exports.bool,w.exports.bool,w.exports.bool,w.exports.any,w.exports.any,w.exports.any,w.exports.string,w.exports.string,w.exports.string,w.exports.func,w.exports.string,w.exports.func,w.exports.func,w.exports.func,w.exports.func,w.exports.func,w.exports.shape({addEventListener:w.exports.func,removeEventListener:w.exports.func,document:w.exports.shape({getElementById:w.exports.func,activeElement:w.exports.any,body:w.exports.any})});var ie=L(L({},Q),{getA11yStatusMessage:function(e){var t=e.isOpen,n=e.resultCount,r=e.previousResultCount;return t?n?n!==r?"".concat(n," result").concat(1===n?" is":"s are"," available, use up and down arrow keys to navigate. Press Enter or Space Bar keys to select."):"":"No results are available.":""}}),ue=1,se=2,ae=3,le=4,ce=5,de=6,pe=7,ge=8,fe=9,he=10,me=11,ve=14,xe=19,ye=Object.freeze({__proto__:null,ToggleButtonClick:0,ToggleButtonKeyDownArrowDown:ue,ToggleButtonKeyDownArrowUp:se,ToggleButtonKeyDownCharacter:ae,ToggleButtonKeyDownEscape:le,ToggleButtonKeyDownHome:ce,ToggleButtonKeyDownEnd:de,ToggleButtonKeyDownEnter:pe,ToggleButtonKeyDownSpaceButton:ge,ToggleButtonKeyDownPageUp:fe,ToggleButtonKeyDownPageDown:he,ToggleButtonBlur:me,MenuMouseLeave:12,ItemMouseMove:13,ItemClick:ve,FunctionToggleMenu:15,FunctionOpenMenu:16,FunctionCloseMenu:17,FunctionSetHighlightedIndex:18,FunctionSelectItem:xe,FunctionSetInputValue:20,FunctionReset:21});function Ie(e,t){var n,r,o=t.type,i=t.props,u=t.altKey;switch(o){case ve:r={isOpen:Z(i,"isOpen"),highlightedIndex:Z(i,"highlightedIndex"),selectedItem:i.items[t.index]};break;case ae:var s=t.key,a=""+e.inputValue+s,l=function(e){for(var t=e.keysSoFar,n=e.highlightedIndex,r=e.items,o=e.itemToString,i=e.getItemNodeFromIndex,u=t.toLowerCase(),s=0;s<r.length;s++){var a=(s+n+(t.length<2?1:0))%r.length,l=r[a];if(void 0!==l&&o(l).toLowerCase().startsWith(u)){var c=i(a);if(!(null==c?void 0:c.hasAttribute("disabled")))return a}}return n}({keysSoFar:a,highlightedIndex:!e.isOpen&&e.selectedItem?i.items.indexOf(e.selectedItem):e.highlightedIndex,items:i.items,itemToString:i.itemToString,getItemNodeFromIndex:t.getItemNodeFromIndex});r={inputValue:a,highlightedIndex:l,isOpen:!0};break;case ue:r={highlightedIndex:e.isOpen?H(1,e.highlightedIndex,i.items.length,t.getItemNodeFromIndex,!1):u&&null==e.selectedItem?-1:te(i,e,1),isOpen:!0};break;case se:if(e.isOpen&&u)r=oe(i,e.highlightedIndex,!1);else r={highlightedIndex:e.isOpen?H(-1,e.highlightedIndex,i.items.length,t.getItemNodeFromIndex,!1):te(i,e,-1),isOpen:!0};break;case pe:case ge:r=oe(i,e.highlightedIndex,!1);break;case ce:r={highlightedIndex:A(1,0,i.items.length,t.getItemNodeFromIndex,!1),isOpen:!0};break;case de:r={highlightedIndex:A(-1,i.items.length-1,i.items.length,t.getItemNodeFromIndex,!1),isOpen:!0};break;case fe:r={highlightedIndex:H(-10,e.highlightedIndex,i.items.length,t.getItemNodeFromIndex,!1)};break;case he:r={highlightedIndex:H(10,e.highlightedIndex,i.items.length,t.getItemNodeFromIndex,!1)};break;case le:r={isOpen:!1,highlightedIndex:-1};break;case me:r=v({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&(null==(n=i.items)?void 0:n.length)&&{selectedItem:i.items[e.highlightedIndex]});break;case xe:r={selectedItem:t.selectedItem};break;default:return function(e,t,n){var r,o=t.type,i=t.props;switch(o){case n.ItemMouseMove:r={highlightedIndex:t.disabled?-1:t.index};break;case n.MenuMouseLeave:r={highlightedIndex:-1};break;case n.ToggleButtonClick:case n.FunctionToggleMenu:r={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:te(i,e,0)};break;case n.FunctionOpenMenu:r={isOpen:!0,highlightedIndex:te(i,e,0)};break;case n.FunctionCloseMenu:r={isOpen:!1};break;case n.FunctionSetHighlightedIndex:r={highlightedIndex:t.highlightedIndex};break;case n.FunctionSetInputValue:r={inputValue:t.inputValue};break;case n.FunctionReset:r={highlightedIndex:Z(i,"highlightedIndex"),isOpen:Z(i,"isOpen"),selectedItem:Z(i,"selectedItem"),inputValue:Z(i,"inputValue")};break;default:throw new Error("Reducer called without proper action type.")}return v({},e,r)}(e,t,ye)}return v({},e,r)}var be=["onMouseLeave","refKey","onKeyDown","onBlur","ref"],we=["onBlur","onClick","onPress","onKeyDown","refKey","ref"],Oe=["item","index","onMouseMove","onClick","onPress","refKey","ref","disabled"];function Ee(o){void 0===o&&(o={});var i=v({},ie,o),u=i.items,s=i.scrollIntoView,a=i.environment,l=i.itemToString,c=i.getA11ySelectionMessage,d=i.getA11yStatusMessage,p=function(e){var t=ee(e,"selectedItem"),n=ee(e,"isOpen"),r=ee(e,"highlightedIndex"),o=ee(e,"inputValue");return{highlightedIndex:r<0&&t&&n?e.items.indexOf(t):r,isOpen:n,selectedItem:t,inputValue:o}}(i),g=J(Ie,p,i),f=g[0],h=g[1],x=f.isOpen,y=f.highlightedIndex,I=f.selectedItem,b=f.inputValue,w=e(null),O=e(null),E=e({}),M=e(null),k=Y(i),C=e(),S=e(!0),T=G({state:f,props:i}),L=t((function(e){return E.current[k.getItemId(e)]}),[k]);ne(d,[x,y,b,u],v({isInitialMount:S.current,previousResultCount:C.current,items:u,environment:a,itemToString:l},f)),ne(c,[I],v({isInitialMount:S.current,previousResultCount:C.current,items:u,environment:a,itemToString:l},f));var F=function(t){var n=t.highlightedIndex,r=t.isOpen,o=t.itemRefs,i=t.getItemNodeFromIndex,u=t.menuElement,s=t.scrollIntoView,a=e(!0);return z((function(){n<0||!r||!Object.keys(o.current).length||(!1===a.current?a.current=!0:s(i(n),u))}),[n]),a}({menuElement:O.current,highlightedIndex:y,isOpen:x,itemRefs:E,scrollIntoView:s,getItemNodeFromIndex:L});n((function(){return M.current=P((function(e){e({type:20,inputValue:""})}),500),function(){M.current.cancel()}}),[]),n((function(){b&&M.current(h)}),[h,b]),re({isInitialMount:S.current,props:i,state:f}),n((function(){S.current||(C.current=u.length)}));var B=function(t,r,o,i){var u=e({isMouseDown:!1,isTouchMove:!1});return n((function(){if(null!=(null==o?void 0:o.addEventListener)){var e=function(){u.current.isMouseDown=!0},n=function(e){u.current.isMouseDown=!1,t&&!W(e.target,r.map((function(e){return e.current})),o)&&i()},s=function(){u.current.isTouchMove=!1},a=function(){u.current.isTouchMove=!0},l=function(e){!t||u.current.isTouchMove||W(e.target,r.map((function(e){return e.current})),o,!1)||i()};return o.addEventListener("mousedown",e),o.addEventListener("mouseup",n),o.addEventListener("touchstart",s),o.addEventListener("touchmove",a),o.addEventListener("touchend",l),function(){o.removeEventListener("mousedown",e),o.removeEventListener("mouseup",n),o.removeEventListener("touchstart",s),o.removeEventListener("touchmove",a),o.removeEventListener("touchend",l)}}}),[t,o]),u}(x,[O,w],a,(function(){h({type:me})})),V=D;n((function(){return S.current=!1,function(){S.current=!0}}),[]),n((function(){x||(E.current={})}),[x]);var H=r((function(){return{ArrowDown:function(e){e.preventDefault(),h({type:ue,getItemNodeFromIndex:L,altKey:e.altKey})},ArrowUp:function(e){e.preventDefault(),h({type:se,getItemNodeFromIndex:L,altKey:e.altKey})},Home:function(e){e.preventDefault(),h({type:ce,getItemNodeFromIndex:L})},End:function(e){e.preventDefault(),h({type:de,getItemNodeFromIndex:L})},Escape:function(){T.current.state.isOpen&&h({type:le})},Enter:function(e){e.preventDefault(),h({type:T.current.state.isOpen?pe:0})},PageUp:function(e){T.current.state.isOpen&&(e.preventDefault(),h({type:fe,getItemNodeFromIndex:L}))},PageDown:function(e){T.current.state.isOpen&&(e.preventDefault(),h({type:he,getItemNodeFromIndex:L}))}," ":function(e){e.preventDefault();var t=T.current.state;t.isOpen?t.inputValue?h({type:ae,key:" ",getItemNodeFromIndex:L}):h({type:ge}):h({type:0})}}}),[h,L,T]),A=t((function(){h({type:15})}),[h]),K=t((function(){h({type:17})}),[h]),j=t((function(){h({type:16})}),[h]),_=t((function(e){h({type:18,highlightedIndex:e})}),[h]),$=t((function(e){h({type:xe,selectedItem:e})}),[h]),U=t((function(){h({type:21})}),[h]),q=t((function(e){h({type:20,inputValue:e})}),[h]),X=t((function(e){return v({id:k.labelId,htmlFor:k.toggleButtonId},e)}),[k]),Q=t((function(e,t){var n,r=void 0===e?{}:e,o=r.onMouseLeave,i=r.refKey,u=void 0===i?"ref":i;r.onKeyDown,r.onBlur;var s=r.ref,a=m(r,be);(void 0===t?{}:t).suppressRefError;return v(((n={})[u]=N(s,(function(e){O.current=e})),n.id=k.menuId,n.role="listbox",n["aria-labelledby"]=a&&a["aria-label"]?void 0:""+k.labelId,n.onMouseLeave=R(o,(function(){h({type:12})})),n),a)}),[h,V,k]),Z=t((function(e,t){var n,r=void 0===e?{}:e,o=r.onBlur,i=r.onClick;r.onPress;var u=r.onKeyDown,s=r.refKey,a=void 0===s?"ref":s,l=r.ref,c=m(r,we);(void 0===t?{}:t).suppressRefError;var d=T.current.state,p=v(((n={})[a]=N(l,(function(e){w.current=e})),n["aria-activedescendant"]=d.isOpen&&d.highlightedIndex>-1?k.getItemId(d.highlightedIndex):"",n["aria-controls"]=k.menuId,n["aria-expanded"]=T.current.state.isOpen,n["aria-haspopup"]="listbox",n["aria-labelledby"]=c&&c["aria-label"]?void 0:""+k.labelId,n.id=k.toggleButtonId,n.role="combobox",n.tabIndex=0,n.onBlur=R(o,(function(){d.isOpen&&!B.current.isMouseDown&&h({type:me})})),n),c);return c.disabled||(p.onClick=R(i,(function(){h({type:0})})),p.onKeyDown=R(u,(function(e){var t=function(e){var t=e.key,n=e.keyCode;return n>=37&&n<=40&&0!==t.indexOf("Arrow")?"Arrow"+t:t}(e);t&&H[t]?H[t](e):function(e){return/^\S{1}$/.test(e)}(t)&&h({type:ae,key:t,getItemNodeFromIndex:L})}))),p}),[T,k,V,h,B,H,L]),te=t((function(e){var t,n=void 0===e?{}:e,r=n.item,o=n.index,i=n.onMouseMove,u=n.onClick;n.onPress;var s=n.refKey,a=void 0===s?"ref":s,l=n.ref,c=n.disabled,d=m(n,Oe),p=T.current,g=p.state,f=function(e,t,n,r){var o,i;if(void 0===e){if(void 0===t)throw new Error(r);o=n[t],i=t}else i=void 0===t?n.indexOf(e):t,o=e;return[o,i]}(r,o,p.props.items,"Pass either item or index to getItemProps!"),x=f[0],y=f[1],b=v(((t={disabled:c,role:"option","aria-selected":""+(x===I),id:k.getItemId(y)})[a]=N(l,(function(e){e&&(E.current[k.getItemId(y)]=e)})),t),d);return c||(b.onClick=R(u,(function(){h({type:ve,index:y})}))),b.onMouseMove=R(i,(function(){y!==g.highlightedIndex&&(F.current=!1,h({type:13,index:y,disabled:c}))})),b}),[T,I,k,F,h]);return{getToggleButtonProps:Z,getLabelProps:X,getMenuProps:Q,getItemProps:te,toggleMenu:A,openMenu:j,closeMenu:K,setHighlightedIndex:_,selectItem:$,reset:U,setInputValue:q,highlightedIndex:y,isOpen:x,selectedItem:I,inputValue:b}}Ee.stateChangeTypes=ye,w.exports.array.isRequired,w.exports.func,w.exports.func,w.exports.func,w.exports.func,w.exports.number,w.exports.number,w.exports.number,w.exports.bool,w.exports.bool,w.exports.bool,w.exports.any,w.exports.any,w.exports.any,w.exports.string,w.exports.string,w.exports.string,w.exports.string,w.exports.string,w.exports.string,w.exports.func,w.exports.string,w.exports.string,w.exports.func,w.exports.func,w.exports.func,w.exports.func,w.exports.func,w.exports.func,w.exports.shape({addEventListener:w.exports.func,removeEventListener:w.exports.func,document:w.exports.shape({getElementById:w.exports.func,activeElement:w.exports.any,body:w.exports.any})}),v({},Q,{selectedItemChanged:function(e,t){return e!==t},getA11yStatusMessage:function(e){var t=e.isOpen,n=e.resultCount,r=e.previousResultCount;return t?n?n!==r?n+" result"+(1===n?" is":"s are")+" available, use up and down arrow keys to navigate. Press Enter key to select.":"":"No results are available.":""}}),w.exports.array,w.exports.array,w.exports.array,w.exports.func,w.exports.func,w.exports.func,w.exports.number,w.exports.number,w.exports.number,w.exports.func,w.exports.func,w.exports.string,w.exports.string,w.exports.shape({addEventListener:w.exports.func,removeEventListener:w.exports.func,document:w.exports.shape({getElementById:w.exports.func,activeElement:w.exports.any,body:w.exports.any})});const Me=t=>{var r;const{languageList:o}=t,i=e(null);const{isOpen:s,selectItem:a,highlightedIndex:l,getMenuProps:d,getItemProps:m,getToggleButtonProps:v}=Ee({items:o,itemToString:function(e){return e?e.value:""},onSelectedItemChange(e){t.onSelect&&e.selectedItem&&e.selectedItem!==t.currentLanguage&&t.onSelect(e.selectedItem)}});return n((()=>{void 0!==t.currentLanguage&&a(t.currentLanguage)}),[t.currentLanguage,a]),n((()=>{var e;const n=null===(e=i.current)||void 0===e?void 0:e.querySelector(".popupmenu-menu");n&&(n.style.display=s?"flex":"none",s&&function(e,t){const n=e.ownerDocument,r=n.defaultView;let o=e.getBoundingClientRect();(function(e,t){return t.x<0||t.y<0||t.x+t.width>e.document.documentElement.clientWidth||t.y+t.height>e.document.documentElement.clientHeight})(r,o)&&function(e,t,n){if(n.x<0){const e=Math.round(p(t,"left")-n.x);t.style.left=e+"px",n.x+=e}if(n.y<0){const e=Math.round(p(t,"top")-n.y);t.style.top=e+"px",n.y+=e}if(n.x+n.width>e.document.documentElement.clientWidth){const r=Math.round(p(t,"right")+(n.x+n.width-e.document.documentElement.clientWidth));t.style.right=r+"px",n.x-=r}if(n.y+n.height>e.document.documentElement.clientHeight){const r=Math.round(p(t,"bottom")+(n.y+n.height-e.document.documentElement.clientHeight));t.style.top="unset",t.style.bottom=r+"px",n.y-=r}}(r,e,o);o=e.getBoundingClientRect();const i=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=[];const u=Math.round(n.left+r),s=Math.round(n.right-r),a=Math.round(n.top+r),l=Math.round(n.bottom-r),c=e.elementFromPoint(u,a),d=e.elementFromPoint(s,a),p=e.elementFromPoint(u,l),f=e.elementFromPoint(s,l);return o&&(o=o.replace(/\./g,""),i=[...e.querySelectorAll(".".concat(o))]),g(t,c,i,o)?c:g(t,d,i,o)?d:g(t,p,i,o)?p:!!g(t,f,i,o)&&f}(n,e,o,3,"popupmenu");if(i&&h(n,r,i))ke(e,o,i.getBoundingClientRect(),t);else if(i){let u=i;do{if(f(e,u,3)&&h(n,r,u))return ke(e,o,u.getBoundingClientRect(),t);if(!u.parentElement)break;u=u.parentElement}while(u.parentElement)}}(n,t.position))}),[t.position,s]),u("div",{ref:i,className:c(t.className,"widget-language-selector","popupmenu"),style:t.style},u("div",{className:"popupmenu-trigger popupmenu-trigger-alignment",...v({tabIndex:t.tabIndex,"aria-label":t.screenReaderLabelCaption||"Language selector"},{suppressRefError:!0})},u("span",{className:"current-language-text"},(null===(r=t.currentLanguage)||void 0===r?void 0:r.value)||""),u("span",{className:"language-arrow","aria-hidden":"true"},u("div",{className:"arrow-image ".concat(s?"arrow-up":"arrow-down")}))),u("div",{className:c("popupmenu-menu","popupmenu-position-".concat(t.position)),...d({"aria-labelledby":void 0},{suppressRefError:!0})},o.map(((e,n)=>u("div",{key:e._guid,className:"popupmenu-basic-item ".concat(t.currentLanguage===e?"active":""," ").concat(l===n?"highlighted":""),...m({item:e,index:n})},e.value)))))};function ke(e,t,n,r){switch(r){case"left":!function(e,t,n){var r,o;o=n,(r=t).left<o.right&&r.right>=o.right&&r.left>=o.left&&(e.style.left=p(e,"left")+n.right-t.left+"px")}(e,t,n),d(e,t,n);break;case"right":!function(e,t,n){var r,o;o=n,(r=t).right>o.left&&r.left<=o.left&&r.right<=o.right&&(e.style.right=p(e,"right")+n.left-t.right+"px")}(e,t,n),d(e,t,n);break;case"top":!function(e,t,n){r=e.ownerDocument.defaultView,o=t,i=n,o.top<i.bottom&&o.bottom>=i.bottom&&o.y+o.height<r.document.documentElement.clientHeight&&(e.style.top=p(e,"top")+n.bottom-t.top+"px");var r,o,i}(e,t,n);break;case"bottom":d(e,t,n)}}function Ce(e){var r,o;const[i,a]=s(),[l,c]=s([]),[d,p]=s(!1);n((()=>{if(e.languageOptions.items&&e.languageCaption){const t=e.languageOptions.items.map((t=>({_guid:t.id,value:e.languageCaption.get(t).value})));c(t),t.length<2&&e.hideForSingle&&p(!0)}}),[e]),n((()=>{const e=window.mx.session.getUserObject().jsonData.attributes["System.User_Language"].value,t=l.find((t=>t._guid===e));a(t)}),[l]);const g=t((e=>{const t=window.mx.session.getUserObject();t.addReference("System.User_Language",e._guid),window.mx.data.commit({mxobj:t,callback(){a(e),window.mx.reloadWithState()}})}),[]);return d?null:u(Me,{className:e.class,position:e.position,currentLanguage:i,languageList:l,onSelect:g,trigger:e.trigger,tabIndex:null!==(r=e.tabIndex)&&void 0!==r?r:0,screenReaderLabelCaption:null===(o=e.screenReaderLabelCaption)||void 0===o?void 0:o.value})}export{Ce as default};
